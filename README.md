<div align="center">
<pre>
          _    __   _  _   
          / \  / /_ | || |  
        / _ \| '_ \| || |_ 
        / ___ \ (_) |__   _|
      /_/   \_\___/   |_|  

---------------------------------------------------
  Node.js API for user creation and authentication
</pre>
  <p align="center">
  <a href="https://paypal.me/abneribeiro" target="_blank"><img src="https://img.shields.io/badge/Donate-PayPal-ff3f59.svg"/></a>
  <a href="https://twitter.com/abneribeiro_" target="_blank"><img src="https://img.shields.io/twitter/follow/abneribeiro.svg?style=social&label=Follow"></a>
</p>
</div>


 <h2 style ="text-align: center;  font-weight: bold;">How To Run The Project</h2>

1. Clone the repository to your local machine using the command

```sh
  git clone https://github.com/abneribeiro/A64-API.git
```

2. Navigate to the project directory using the command

```sh
  cd directory-name
```

3. Install project dependencies using the command

```sh
  npm install
```

4. Start the server using the command

```sh
  node app.js
```

## Usage example


### POST

`To register a new user: `

```yaml
url: http://localhost:3000/user/register
method: POST
headers:
  content-type: application/json
data:
  {
  "username": "John Doe"
  "email": "johndoe@gmail.com"
  "password": "your_password"
  }
```

### PUT

`To update a user profile, you need to include the Authorization header with the token received upon login:`

```yaml
url: http://localhost:3000/user/profile
method: PUT
headers:
  content-type: application/json
  Authorization: Bearer your_token
data:
  {
    "username": "new_username",
    "email": "new_email",
    "password": "new_password",
  }
```

### DELETE

`To delete a user profile, you also need to include the Authorization header:`

```yaml
url: http://localhost:3000/user/profile
method: DELETE
headers:
  Authorization: Bearer your_token
```
<h2 style ="text-align: center;  font-weight: bold;">API Endpoints and Actions</h2>

1. Create Users

- Endpoint: `POST /user/register`
- Description: Creates a new user with a name and password. The user's ID is automatically generated by the backend.
- Parameters:

  - `username`
  - `email`
  - `password`

  Response (JSON):
  Success (Status Code 201):
  Returns a success message along with information about the created post.

  Error (Status Code 401 or 500):
  Returns an error message in case of issues.

2. Login Users

- Endpoint: `POST /user/login`
- Description: The user logs in by entering the name and password and generates a token.
- Parameters:
  - `username`
  - `password`

3. User Profile Update
   **Authentication and Authorization**
   - Profile update routes are protected using a JWT token. Include the token in the Authorization header of each request to protected routes.

- Endpoint: `PUT /users/profile`
- Description: The profile update functionality allows authenticated users to modify information such as their username, email and password. To access this feature, provide a valid JWT token obtained during login and must be included in the Authorization header of requests to protected routes. The server decodes the token to verify user authenticity. Provide the new data in the request body.

  - Parameters:

    - `username` : New name of the user (optional).
    - `email` : New email of the user (optional).
    - `password` : New password of the user (optional).

  - Response (JSON):

    - `Success (Status Code 200)`:
      Returns a success message along with the updated user information.

    - `Error (Status Code 401 or 500)`:
      Returns an error message in case of issues.

4. Delete User

- Endpoint: `DELETE /users/profile`
- Description: Deletes a specific user based on the provided token.
- Response (JSON):

  - `Success (Status Code 200)`:
    Returns a success message along with the deleted user information.

  - `Error (Status Code 401 or 500)`:
    Returns an error message in case of issues.

5. Create Post

- Endpoint: `POST /posts/create`
- Description: Creates a new post for a specific user based on the provided user token.
- Parameters:
  - `title` : Post title.
  - `content` : Post content.
- Response (JSON):
  - `_id`
  - `title`
  - `content`
  - `author`
  - `createdAt`

6. View All Posts

- Endpoint: `GET /posts/all`
- Description: Returns a list of posts from a specific user based on the provided user token.

- Response (JSON - Array):
  - `_id`
  - `title`
  - `content`
  - `author`
  - `createdAt`

7. View Posts by User ID

- Endpoint: `GET /posts/:userId`
- Description: Returns a list of posts from a specific user based on the provided user ID.
- Parameters:
  - `userId`: ID of the user whose posts will be viewed.
- Response (JSON - Array):
  - `id` : Post ID.
  - `userId` : ID of the user associated with the post.
  - `content` : Post content.
  - `createdAt` : Date and time of post creation.

8. Delete Posts by User ID

- Endpoint: `DELETE /posts/:postId`
- Description: Deletes a specific post based on the provided post ID.
- Parameters:
  - `postId`: ID of the post to be deleted.
- Response (JSON):
- `message`: User post deleted

<h2 style ="text-align: center;  font-weight: bold;">Technologies Used </h2>

- Node.js
- Express.js
- MongoDB

### Project Dependencies

- Express-validator
- Mongoose
- JSON Web Tokens (JWT)
- Bcrypt.js

_Authentication_

- Middleware
- Added authentication to ensure that only authenticated users can create posts and perform other actions.

5. The application will be available at

```sh
  http://localhost:3000
```

6. Use tools like [Postman](https://www.postman.com/) to test routes.



<h3 style ="text-align: center;  font-weight: bold;">How to Contribute</h3>

#### Contributing

1. Fork it (<https://github.com/>)
2. Create your feature branch (`git checkout -b feature/fooBar`)
3. Commit your changes (`git commit -am 'Add some fooBar'`)
4. Push to the branch (`git push origin feature/fooBar`)
5. Create a new Pull Request

4. **Implement Enhancements or Fixes:** Make the necessary code changes. Ensure you follow our style guidelines and best programming practices.

5. **Testing and Validation:** Rigorously test your changes to ensure everything works as expected. Be sure to add new tests as well, when applicable.

6. **Submit a Pull Request:** Submit a Pull Request (PR) from your branch to the main branch of the original repository. Clearly describe the purpose of the PR and include any relevant context.

<h3 style ="text-align: center;  font-weight: bold;">Bug Reporting</h3>

If you've discovered a bug or issue on our platform, we'd like to hear about it so we can address it promptly. When reporting a bug, follow these steps:

1. **Search Before Reporting:** Check if the bug has been reported previously in our issue tracking system. This helps to avoid duplications.

2. **Create a New Issue:** If the bug hasn't been reported, create a new issue on our GitHub repository. Provide clear details about the issue, including steps to reproduce it.

3. **Include Context:** If possible, provide additional information such as screenshots, error logs, and details about the environment in which the bug occurred.

<h3 style ="text-align: center;  font-weight: bold;">What to Expect</h3>

We sincerely appreciate your contributions to our Open Source community. Our team will review your contributions and provide valuable feedback. Know that your time and effort are highly valued, and together, we can continue to enhance and strengthen our platform.

Thank you for joining us on this journey of development and continuous improvement!

## Meta

Abner Ribeiro â€“ eliasabner38@gmail.com

Distributed under the MIT license. See `LICENSE` for more information.

[https://github.com/abneribeiro/](https://github.com/abneribeiro/)