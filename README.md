  <h1 style ="text-align: center; color:#DBEF80; font-weight: bold;">A64 POST API</h1>
    
This project is an application developed in Node.js using the MongoDB database. The application allows users to be created with a username, email, and password. Once created, they can create posts.

<h2 style ="text-align: center; color:#DBEF80;font-weight: bold;">Technologies Used </h2>

- Node.js
- Express.js
- MongoDB

### Project Dependencies

- Express-validator
- Mongoose
- JSON Web Tokens (JWT)
- Bcrypt.js

_Authentication_

- Middleware
- Added authentication to ensure that only authenticated users can create posts and perform other actions.

 <h2 style ="text-align: center; color:#DBEF80;font-weight: bold;">How To Run The Project</h2>

1. Clone the repository to your local machine using the command `git clone https://github.com/abneribeiro/A64-API.git`.

2. Navigate to the project directory using the command `cd directory-name`.

3. Install project dependencies using the command `npm install`.

4. Start the server using the command `node app.js`.

5. The application will be available at `http://localhost:3000`.

6. Use tools like [Postman](https://www.postman.com/) to test routes.

### _Project Directory Structure_

```
project-backend/
├── controllers/
│   ├── authController.js
│   ├── postController.js
├── middleware/
│   ├── authMiddleware.js
├── models/
│   ├── User.js
│   ├── Post.js
├── routes/
│   ├── authRoutes.js
│   ├── postRoutes.js
├── app.js
```

 <h2 style ="text-align: center; color:#DBEF80;font-weight: bold;">API Endpoints and Actions</h2>

1. Create Users

- Endpoint: `POST /user/register`
- Description: Creates a new user with a name and password. The user's ID is automatically generated by the backend.
- Parameters:
  - `username` 
  - `email` 
  - `password` 

  Response (JSON):
    Success (Status Code 201):
      Returns a success message along with information about the created post.

    Error (Status Code 401 or 500):
      Returns an error message in case of issues.
2. Login Users

- Endpoint: `POST /user/login`
- Description: The user logs in by entering the name and password and generates a token.
- Parameters:
  - `username` 
  - `password`

3. User Profile Update
   **Authentication and Authorization**
   - Profile update routes are protected using a JWT token. Include the token in the Authorization header of each request to protected routes.

- Endpoint: `PUT /users/profile`
- Description: The profile update functionality allows authenticated users to modify information such as their username, email and password. To access this feature, provide a valid JWT token obtained during login and must be included in the Authorization header of requests to protected routes. The server decodes the token to verify user authenticity. Provide the new data in the request body.

  - Parameters:
    - `username` : New name of the user (optional).
    - `email` : New email of the user (optional).
    - `password` : New password of the user (optional).

  - Response (JSON):

    - `Success (Status Code 200)`:
      Returns a success message along with the updated user information.

    - `Error (Status Code 401 or 500)`:
      Returns an error message in case of issues.


4. Delete User

- Endpoint: `DELETE /users/profile`
- Description: Deletes a specific user based on the provided token.
- Response (JSON):

    - `Success (Status Code 200)`:
        Returns a success message along with the deleted user information.

    - `Error (Status Code 401 or 500)`:
        Returns an error message in case of issues.

5. Create Post

- Endpoint: `POST /posts/create`
- Description: Creates a new post for a specific user based on the provided user token.
- Parameters:
  - `title` : Post title.
  - `content` : Post content.
- Response (JSON):
  - `_id`
  - `title`
  - `content`
  - `author`
  - `createdAt`

6. View All Posts

- Endpoint: `GET /posts/all`
- Description: Returns a list of posts from a specific user based on the provided user token.

- Response (JSON - Array):
  - `_id`
  - `title`
  - `content`
  - `author`
  - `createdAt`

7. View Posts by User ID

- Endpoint: `GET /posts/:userId`
- Description: Returns a list of posts from a specific user based on the provided user ID.
- Parameters:
  - `userId`: ID of the user whose posts will be viewed.
- Response (JSON - Array):
  - `id` : Post ID.
  - `userId` : ID of the user associated with the post.
  - `content` : Post content.
  - `createdAt` : Date and time of post creation.

8. Delete Posts by User ID

- Endpoint: `DELETE /posts/:postId`
- Description: Deletes a specific post based on the provided post ID.
- Parameters:
  - `postId`: ID of the post to be deleted.
- Response (JSON):
  - `message`: User post deleted
